{
  "test_session": {
    "start_time": "2025-08-07T18:39:43.256976",
    "end_time": "2025-08-07T18:39:43.586744",
    "total_duration_seconds": 0.33,
    "framework_version": "1.0.0"
  },
  "test_results_summary": {
    "total_tests": 10,
    "passed": 8,
    "failed": 1,
    "warnings": 1,
    "skipped": 0,
    "success_rate_percent": 80.0
  },
  "detailed_results": [
    {
      "test_name": "Database Connectivity",
      "status": "PASS",
      "details": "Database connection and core table access validated",
      "execution_time_seconds": 0.017,
      "timestamp": "2025-08-07T18:39:43.273838",
      "error": ""
    },
    {
      "test_name": "Journal Entry Data Loading",
      "status": "FAIL",
      "details": "Failed to load journal entry data",
      "execution_time_seconds": 0.001,
      "timestamp": "2025-08-07T18:39:43.275203",
      "error": "(psycopg2.errors.UndefinedColumn) column jel.text does not exist\nLINE 3:                                jel.text, jel.reference, jel....\n                                       ^\n\n[SQL: \n                        SELECT jel.linenumber, jel.glaccountid, jel.debitamount, jel.creditamount,\n                               jel.text, jel.reference, jel.assignment, jel.business_unit_id,\n                               jel.tax_code, jel.business_area, jel.currencycode, jel.ledgerid,\n                               COALESCE(ga.accountname, 'Unknown Account') as accountname\n                        FROM journalentryline jel\n                        LEFT JOIN glaccount ga ON jel.glaccountid = ga.glaccountid\n                        WHERE jel.documentnumber = %(doc)s AND jel.companycodeid = %(cc)s\n                        ORDER BY jel.linenumber\n                    ]\n[parameters: {'doc': 'JE202501001', 'cc': '1000'}]\n(Background on this error at: https://sqlalche.me/e/20/f405)"
    },
    {
      "test_name": "DataFrame Processing",
      "status": "PASS",
      "details": "New DF cols: 13, Existing DF shape: (1, 13)",
      "execution_time_seconds": 0.004,
      "timestamp": "2025-08-07T18:39:43.279662",
      "error": ""
    },
    {
      "test_name": "Column Configuration",
      "status": "PASS",
      "details": "All 13/13 columns configured successfully",
      "execution_time_seconds": 0.0,
      "timestamp": "2025-08-07T18:39:43.279694",
      "error": ""
    },
    {
      "test_name": "Error Handling Fallbacks",
      "status": "PASS",
      "details": "Tested 4 fallback scenarios successfully",
      "execution_time_seconds": 0.0,
      "timestamp": "2025-08-07T18:39:43.280020",
      "error": ""
    },
    {
      "test_name": "Business Units Table Integration",
      "status": "PASS",
      "details": "Business units table accessible with 12586 records",
      "execution_time_seconds": 0.001,
      "timestamp": "2025-08-07T18:39:43.281320",
      "error": ""
    },
    {
      "test_name": "Function Definition Placement",
      "status": "WARNING",
      "details": "6 function definitions still in execution flow",
      "execution_time_seconds": 0.002,
      "timestamp": "2025-08-07T18:39:43.283093",
      "error": "[{'line_number': 752, 'function_name': 'def handle_edit_entry(current_user):', 'context': 'main_execution_flow'}, {'line_number': 1358, 'function_name': 'def clean_field_value(value):', 'context': 'main_execution_flow'}, {'line_number': 1531, 'function_name': 'def save_journal_entry(doc, cc, pdate, ddate, fy, per, ref, memo, cur, cb, edited, workflow_status=\"DRAFT\", doc_type=\"SA\"):', 'context': 'main_execution_flow'}, {'line_number': 1627, 'function_name': 'def handle_reverse_entry():', 'context': 'main_execution_flow'}, {'line_number': 1929, 'function_name': 'def handle_delete_entry():', 'context': 'main_execution_flow'}, {'line_number': 2088, 'function_name': 'def main():', 'context': 'main_execution_flow'}]"
    },
    {
      "test_name": "Debug Message Flow",
      "status": "PASS",
      "details": "Debug flow coverage: 100.0% (14/14)",
      "execution_time_seconds": 0.001,
      "timestamp": "2025-08-07T18:39:43.283846",
      "error": ""
    },
    {
      "test_name": "Performance Metrics",
      "status": "PASS",
      "details": "All performance tests within thresholds: {'database_query_time': 0.004189729690551758, 'dataframe_processing_time': 0.003748178482055664, 'column_config_time': 5.0067901611328125e-06}",
      "execution_time_seconds": 0.008,
      "timestamp": "2025-08-07T18:39:43.291828",
      "error": ""
    },
    {
      "test_name": "Regression Scenarios",
      "status": "PASS",
      "details": "All 5 regression tests passed",
      "execution_time_seconds": 0.295,
      "timestamp": "2025-08-07T18:39:43.586724",
      "error": ""
    }
  ],
  "performance_metrics": {
    "database_query_time": 0.004189729690551758,
    "dataframe_processing_time": 0.003748178482055664,
    "column_config_time": 5.0067901611328125e-06
  },
  "test_data_collected": {
    "dataframe_processing": {
      "new_entry_columns": 13,
      "existing_entry_shape": [
        1,
        13
      ],
      "ledger_default_applied": "True"
    },
    "column_configuration": {
      "expected_columns": 13,
      "configured_columns": 13,
      "configuration_steps": 13,
      "all_configured": true
    },
    "error_handling": {
      "fallback_scenarios_tested": 4,
      "scenarios": [
        "Enhanced -> Basic data_editor fallback",
        "Basic data_editor creation successful",
        "Database -> Empty DataFrame fallback",
        "FSG -> Basic column config fallback"
      ]
    },
    "business_units": {
      "table_accessible": true,
      "total_count": 12586,
      "sample_units": 5
    },
    "function_placement": {
      "functions_in_execution_flow": 6,
      "debug_messages_present": 4,
      "expected_debug_messages": 4
    },
    "debug_flow": {
      "total_debug_messages": 20,
      "expected_messages": 14,
      "messages_found": 14,
      "flow_coverage": 100.0
    },
    "performance": {
      "database_query_time": 0.004189729690551758,
      "dataframe_processing_time": 0.003748178482055664,
      "column_config_time": 5.0067901611328125e-06
    },
    "regression": {
      "tests_performed": 5,
      "results": [
        "Document number generation: JE01593...",
        "Document types loading: 3 types",
        "GL Account access: 3 accounts",
        "FSG validation framework: accessible",
        "Workflow engine: accessible"
      ]
    }
  },
  "recommendations": [
    "\ud83d\udd34 CRITICAL: 1 tests failed. Review these issues before production deployment.",
    "\ud83d\udfe1 WARNING: 1 tests have warnings. Monitor these areas closely in production.",
    "\ud83d\udd27 CODE STRUCTURE: Move remaining function definitions out of execution flow."
  ]
}